{% extends 'management/base.html' %}

{% block content %}
    <div class="container mt-5">
        <h1 class="mb-4">Add Sale</h1>
        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.agent.id_for_label }}">Agent</label>
                {{ form.agent }}
            </div>
            <div class="form-group">
                <label for="{{ form.client_name.id_for_label }}">Client Name</label>
                {{ form.client_name }}
            </div>
            <div class="form-group">
                <label for="{{ form.loan_amount_paid.id_for_label }}">Loan Amount Paid</label>
                {{ form.loan_amount_paid }}
            </div>
            <div class="form-group">
                <label for="{{ form.date_paid.id_for_label }}">Date Paid</label>
                {{ form.date_paid }}
            </div>
            <button type="submit" class="btn btn-primary">Add Sale</button>
        </form>
        <a href="{% url 'sales' %}" class="btn btn-secondary mt-3">View Sales</a>
    </div>

    <!-- Include Bootstrap Datepicker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <script>
        // Initialize the Bootstrap Datepicker
        $(document).ready(function () {
            $('[name="date_paid"]').datepicker({
                format: 'yyyy-mm-dd',
                autoclose: true,
                todayHighlight: true,
            });
        });
    </script>
{% endblock %}
